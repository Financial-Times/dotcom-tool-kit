export const automatedComment = '# CONFIG GENERATED BY DOTCOM-TOOL-KIT, DO NOT EDIT BY HAND\n'

export type JobConfig = {
  docker?: { image: string; environment?: Record<string, string> }[]
  context?: string | string[]
  requires?: string[]
  filters?: { branches?: { only?: string; ignore?: string }; tags?: { only?: string } }
  executor?: string
}

type TriggerConfig = {
  schedule?: { cron: string; filters?: { branches: { only?: string; ignore?: string } } }
}

export type Job = string | { [job: string]: JobConfig }

export type Trigger = string | { [trigger: string]: TriggerConfig }

export type Workflow = {
  jobs?: Job[]
  triggers?: Trigger[]
}

export interface CircleConfig {
  version: number
  orbs: { [orb: string]: string }
  workflows?: {
    version: number
    [workflow: string]: Workflow | number
  }
}
