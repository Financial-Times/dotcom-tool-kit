# Changelog

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/types bumped from ^3.1.0 to ^3.2.0
    * @dotcom-tool-kit/vault bumped from ^3.1.0 to ^3.1.1

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/types bumped from ^3.2.0 to ^3.3.0
    * @dotcom-tool-kit/vault bumped from ^3.1.1 to ^3.1.2

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/types bumped from ^3.3.0 to ^3.3.1
    * @dotcom-tool-kit/vault bumped from ^3.1.2 to ^3.1.3

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/state bumped from ^3.1.0 to ^3.1.1
    * @dotcom-tool-kit/doppler bumped from ^1.0.0 to ^1.0.1

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/types bumped from ^3.4.0 to ^3.4.1
    * @dotcom-tool-kit/doppler bumped from ^1.0.2 to ^1.0.3

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.3 to ^1.0.4

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.4 to ^1.0.5

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.5 to ^1.0.6

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.6 to ^1.0.7

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.7 to ^1.0.8

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.8 to ^1.0.9
    * @dotcom-tool-kit/options bumped from ^3.1.5 to ^3.1.6
    * @dotcom-tool-kit/types bumped from ^3.4.1 to ^3.5.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.1.0 to ^1.1.1
    * @dotcom-tool-kit/options bumped from ^3.2.0 to ^3.2.1
    * @dotcom-tool-kit/types bumped from ^3.6.0 to ^3.6.1

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^2.0.0 to ^2.0.1
    * @dotcom-tool-kit/options bumped from ^4.0.0 to ^4.0.1
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.0.0 to ^1.1.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^2.0.1 to ^2.0.2
    * @dotcom-tool-kit/options bumped from ^4.0.1 to ^4.0.2
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.1.0 to ^1.1.1

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.0 to ^1.1.1
    * @dotcom-tool-kit/doppler bumped from ^2.0.3 to ^2.0.4
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.2.0 to ^1.3.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.2 to ^1.1.3
    * @dotcom-tool-kit/doppler bumped from ^2.1.0 to ^2.1.1
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.4.0 to ^1.5.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.3 to ^1.1.4
    * @dotcom-tool-kit/doppler bumped from ^2.1.1 to ^2.1.2
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.5.0 to ^1.6.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.4 to ^1.1.5
    * @dotcom-tool-kit/doppler bumped from ^2.1.2 to ^2.1.3
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.6.0 to ^1.6.1

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.5 to ^1.1.6
    * @dotcom-tool-kit/doppler bumped from ^2.1.3 to ^2.1.4
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.6.1 to ^1.6.2

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/state bumped from ^4.1.0 to ^4.2.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.6 to ^1.1.7
    * @dotcom-tool-kit/doppler bumped from ^2.1.4 to ^2.1.5
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.6.2 to ^1.7.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.7 to ^1.1.8
    * @dotcom-tool-kit/doppler bumped from ^2.1.5 to ^2.1.6
    * @dotcom-tool-kit/state bumped from ^4.2.0 to ^4.3.0
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.7.0 to ^1.8.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.8 to ^1.1.9
    * @dotcom-tool-kit/doppler bumped from ^2.1.6 to ^2.1.7
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.8.0 to ^1.9.0

### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/state bumped from ^4.3.0 to ^4.3.1

## [3.3.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v3.2.9...serverless-v3.3.0) (2025-02-17)


### Features

* move plugin options schemas into plugins ([f0b482b](https://github.com/Financial-Times/dotcom-tool-kit/commit/f0b482bc89c1728aebc96b78aed68e4a15d0f8dc))
* move task schemas into plugins ([76b96e5](https://github.com/Financial-Times/dotcom-tool-kit/commit/76b96e54ea0c9880bbedcc708ffde77638c8c267))


### Bug Fixes

* use static description field for tasks without a schema ([c01a545](https://github.com/Financial-Times/dotcom-tool-kit/commit/c01a545528fd04231b24ac62742a6156ff6915db))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.9 to ^1.1.10
    * @dotcom-tool-kit/doppler bumped from ^2.1.7 to ^2.2.0

## [3.2.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v3.1.1...serverless-v3.2.0) (2025-01-02)


### Features

* add support for Node 22 ([df20e7c](https://github.com/Financial-Times/dotcom-tool-kit/commit/df20e7c455a16eeb3e75a2e940c93848d618a218))
* remove npm engine field ([aec1c78](https://github.com/Financial-Times/dotcom-tool-kit/commit/aec1c78aedb8f26a43b25824eb19e30101806182))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.1.1 to ^1.1.2
    * @dotcom-tool-kit/doppler bumped from ^2.0.4 to ^2.1.0
    * @dotcom-tool-kit/error bumped from ^4.0.1 to ^4.1.0
    * @dotcom-tool-kit/state bumped from ^4.0.0 to ^4.1.0
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.3.0 to ^1.4.0

## [3.1.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v3.0.2...serverless-v3.1.0) (2024-12-09)


### Features

* run task child processes in the cwd from the task run context ([14d52f8](https://github.com/Financial-Times/dotcom-tool-kit/commit/14d52f81f874a37c12bab3a6fbfddde5ff8d72e7))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^1.0.0 to ^1.1.0
    * @dotcom-tool-kit/doppler bumped from ^2.0.2 to ^2.0.3
    * @dotcom-tool-kit/error bumped from ^4.0.0 to ^4.0.1
  * devDependencies
    * @dotcom-tool-kit/schemas bumped from ^1.1.1 to ^1.2.0

## [3.0.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.4.5...serverless-v3.0.0) (2024-09-10)


### âš  BREAKING CHANGES

* move serverless run ports and useDoppler options to task options
* remove unused legacy vault/doppler support from serverless deploy/provision/teardown tasks
* remove serverless buildNumVariable in favour of populating it via CI state
* rename serverless useVault option to useDoppler
* drop support for Node 16
* rename Task#options to pluginOptions
* move base classes into their own package
* add new lazy plugin spec to rest of plugins

### Features

* allow tasks to receive a task options object and parse task schema when initialising ([1dce6bd](https://github.com/Financial-Times/dotcom-tool-kit/commit/1dce6bd5e8436bf521e94eb812aa847ca7dd1e4d))
* move base classes into their own package ([be1681b](https://github.com/Financial-Times/dotcom-tool-kit/commit/be1681b033609a9e332ab072681b6de8d05befb2))
* move serverless run ports and useDoppler options to task options ([e5791ad](https://github.com/Financial-Times/dotcom-tool-kit/commit/e5791ada3518213ad6a8df9f59dbcf2c3c65f68d))
* remove serverless buildNumVariable in favour of populating it via CI state ([5c96a07](https://github.com/Financial-Times/dotcom-tool-kit/commit/5c96a07f117de53cbdb2933053f36e7740d6b14d))
* rename serverless useVault option to useDoppler ([7e0dfb3](https://github.com/Financial-Times/dotcom-tool-kit/commit/7e0dfb38299987890e322762126c1f078b2e1fd4))
* split schemas out into separate package ([5d538cd](https://github.com/Financial-Times/dotcom-tool-kit/commit/5d538cd692eec6b799587f499c444b3e4f6e78b8))


### Performance Improvements

* add new lazy plugin spec to rest of plugins ([5367c9a](https://github.com/Financial-Times/dotcom-tool-kit/commit/5367c9a3e086412c28939c88700b67cb04afcfcd))


### Miscellaneous Chores

* drop support for Node 16 ([ab95982](https://github.com/Financial-Times/dotcom-tool-kit/commit/ab95982635e255fec49d08af9894c2833a36500e))
* remove unused legacy vault/doppler support from serverless deploy/provision/teardown tasks ([007038d](https://github.com/Financial-Times/dotcom-tool-kit/commit/007038d1b018c47b99971d9713cd4375be488712))


### Code Refactoring

* rename Task#options to pluginOptions ([e73dcae](https://github.com/Financial-Times/dotcom-tool-kit/commit/e73dcae5ff48693545aa20e5c572269c3adf486b))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/base bumped from ^3.4.1 to ^1.0.0
    * @dotcom-tool-kit/doppler bumped from ^1.1.1 to ^2.0.0
    * @dotcom-tool-kit/error bumped from ^3.2.0 to ^4.0.0
    * @dotcom-tool-kit/options bumped from ^3.2.1 to ^4.0.0
    * @dotcom-tool-kit/state bumped from ^3.3.0 to ^4.0.0

## [2.4.4](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.4.3...serverless-v2.4.4) (2024-02-08)


### Bug Fixes

* **serverless:** pass --aws-profile flag to deploy command ([3f35ffd](https://github.com/Financial-Times/dotcom-tool-kit/commit/3f35ffd1c2431c77826e2789894ccd0ba41bbb52))

## [2.4.3](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.4.2...serverless-v2.4.3) (2024-02-01)


### Bug Fixes

* make ServerlessTeardown task run with CircleCI role ([1c893d0](https://github.com/Financial-Times/dotcom-tool-kit/commit/1c893d03a0e66f63ec9e4b5313efb44e2b2eadfd))

## [2.4.2](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.4.1...serverless-v2.4.2) (2024-01-29)


### Bug Fixes

* **serverless:** remove aws-profile flag from ServerlessTeardown task ([6f89b82](https://github.com/Financial-Times/dotcom-tool-kit/commit/6f89b822532c89769a60ee3277a4c0f45c341f24))

## [2.4.1](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.4.0...serverless-v2.4.1) (2024-01-26)


### Bug Fixes

* **serverless:** read env vars on ServerlessTeardown task ([d115cf9](https://github.com/Financial-Times/dotcom-tool-kit/commit/d115cf95782b398dbbfbfb0256fd9e2f0fa4ce1e))

## [2.4.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.3.0...serverless-v2.4.0) (2024-01-23)


### Features

* add ServerlessTeardown task ([52b4d0f](https://github.com/Financial-Times/dotcom-tool-kit/commit/52b4d0f92586691b4d7ba150dabc3fda5fbcbd53))
* add teardown:review hook ([e00fcb4](https://github.com/Financial-Times/dotcom-tool-kit/commit/e00fcb4739f684ab62329dfe246b4981a9fdebc9))
* pass serverless stageName through review state ([7228d17](https://github.com/Financial-Times/dotcom-tool-kit/commit/7228d17001221fe46df0d89025654298baac2533))


### Bug Fixes

* fix the ServerlessTeardown import ([b67afdd](https://github.com/Financial-Times/dotcom-tool-kit/commit/b67afdd09d75100b005305ebd584b4ed5af5768a))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/state bumped from ^3.2.0 to ^3.3.0

## [2.3.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.2.13...serverless-v2.3.0) (2024-01-11)


### Features

* add support for Node v20 ([759ac10](https://github.com/Financial-Times/dotcom-tool-kit/commit/759ac10e309885e99f54ae431c301c32ee04f972))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.9 to ^1.1.0
    * @dotcom-tool-kit/error bumped from ^3.1.0 to ^3.2.0
    * @dotcom-tool-kit/options bumped from ^3.1.6 to ^3.2.0
    * @dotcom-tool-kit/state bumped from ^3.1.1 to ^3.2.0
    * @dotcom-tool-kit/types bumped from ^3.5.0 to ^3.6.0

## [2.2.11](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.2.10...serverless-v2.2.11) (2023-11-24)


### Bug Fixes

* **serverless:** skip fetching secrets from Vault if Tool Kit migrated ([d667e67](https://github.com/Financial-Times/dotcom-tool-kit/commit/d667e6762fb7a4c255892eec31d4ca268603c64c))

## [2.2.10](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.2.9...serverless-v2.2.10) (2023-11-23)


### Bug Fixes

* **serverless:** don't call Doppler CLI in CI deployments ([9a69d50](https://github.com/Financial-Times/dotcom-tool-kit/commit/9a69d50ea6768bf39f90320cdc0287bd58c64f28))

## [2.2.8](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.2.7...serverless-v2.2.8) (2023-11-17)


### Bug Fixes

* **serverless:** confirm Serverless deployments have been successful ([8b9b00d](https://github.com/Financial-Times/dotcom-tool-kit/commit/8b9b00de7fb85ce92f13d58ec242174ef7c4607f))

## [2.2.3](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.2.2...serverless-v2.2.3) (2023-10-09)


### Bug Fixes

* **doppler:** match new name for production configs in Doppler ([bc5485f](https://github.com/Financial-Times/dotcom-tool-kit/commit/bc5485f56f3d8fcd608885f8fe9ba56a22265783))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/doppler bumped from ^1.0.1 to ^1.0.2

## [2.2.1](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.2.0...serverless-v2.2.1) (2023-09-19)


### Bug Fixes

* **serverless:** recover $PATH env ([a368f04](https://github.com/Financial-Times/dotcom-tool-kit/commit/a368f04a73a3ad1761371d45bde08b5f375c6e29))

## [2.2.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.1.3...serverless-v2.2.0) (2023-09-19)


### Features

* migrate plugins to use Doppler instead of Vault ([e9611ef](https://github.com/Financial-Times/dotcom-tool-kit/commit/e9611efa3457fbf3ba8d0c00ed6fbb9e0ce203b1))


### Bug Fixes

* **serverless:** deploy with only  env vars from secrets mgmt service ([4e7d350](https://github.com/Financial-Times/dotcom-tool-kit/commit/4e7d3506129d03990dc54ccb4846a7e870f42cae))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/types bumped from ^3.3.1 to ^3.4.0

## [2.1.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v2.0.0...serverless-v2.1.0) (2023-04-28)


### Features

* specify Node 18 support in all packages' engines fields ([3b55c79](https://github.com/Financial-Times/dotcom-tool-kit/commit/3b55c79f3f55b448f1a92fcf842dab6a8906ea70))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/error bumped from ^3.0.0 to ^3.1.0
    * @dotcom-tool-kit/state bumped from ^3.0.0 to ^3.1.0
    * @dotcom-tool-kit/types bumped from ^3.0.0 to ^3.1.0
    * @dotcom-tool-kit/vault bumped from ^3.0.0 to ^3.1.0

## [2.0.0](https://github.com/Financial-Times/dotcom-tool-kit/compare/serverless-v1.0.0...serverless-v2.0.0) (2023-04-18)


### âš  BREAKING CHANGES

* drop support for Node 14 across all packages

### Miscellaneous Chores

* drop support for Node 14 across all packages ([aaee178](https://github.com/Financial-Times/dotcom-tool-kit/commit/aaee178b535a51f9c75a882d78ffd8e8aa3eac60))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/error bumped from ^2.0.1 to ^3.0.0
    * @dotcom-tool-kit/state bumped from ^2.0.1 to ^3.0.0
    * @dotcom-tool-kit/types bumped from ^2.10.0 to ^3.0.0
    * @dotcom-tool-kit/vault bumped from ^2.0.16 to ^3.0.0

## 1.0.0 (2023-04-05)


### Features

* add serverless plugin ([2041b7d](https://github.com/Financial-Times/dotcom-tool-kit/commit/2041b7d65c941823f59cbba61b11d32fe67ed906))
* add task description to ServerlessRun ([d777c8a](https://github.com/Financial-Times/dotcom-tool-kit/commit/d777c8aac932c766c75e6e2c54a8d719a2b71634))
* handle default option values with zod ([7c03517](https://github.com/Financial-Times/dotcom-tool-kit/commit/7c0351771cf1a3d795803295a41dfea755176b19))
* **serverless:** add ServerlessDeploy task ([cd23f88](https://github.com/Financial-Times/dotcom-tool-kit/commit/cd23f88ce453a48dec393dc2645c7a22948e3944))
* **serverless:** define ServerlessProvision task ([6f49aaa](https://github.com/Financial-Times/dotcom-tool-kit/commit/6f49aaa80bb315e5dfd11068a21cb1d3e52ef36a))


### Bug Fixes

* **serverless:** export ServerlessDeploy task ([7277b58](https://github.com/Financial-Times/dotcom-tool-kit/commit/7277b58be3583d63f41485bc1ad59566c8dfbfbf))
* **serverless:** update @dotcom-tool-kit/types ([a3cd7bf](https://github.com/Financial-Times/dotcom-tool-kit/commit/a3cd7bfe15aa537b57e5534510fef03890d8e4d7))


### Dependencies

* The following workspace dependencies were updated
  * dependencies
    * @dotcom-tool-kit/types bumped from ^2.9.2 to ^2.10.0
    * @dotcom-tool-kit/vault bumped from ^2.0.12 to ^2.0.16
