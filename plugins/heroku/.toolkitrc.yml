plugins:
  - '@dotcom-tool-kit/package-json-hook'
  - '@dotcom-tool-kit/npm'
  - '@dotcom-tool-kit/doppler' # required so the create script knows we need its options

tasks:
  HerokuProduction: './lib/tasks/production.js'
  HerokuStaging: './lib/tasks/staging.js'
  HerokuReview: './lib/tasks/review.js'
  HerokuTeardown: './lib/tasks/teardown.js'

commands:
  'cleanup:remote': NpmPrune

options:
  hooks:
    - PackageJson:
        scripts:
          heroku-postbuild:
            - 'build:remote'
            - 'release:remote'
            - 'cleanup:remote'

version: 2
