# dotcom-tool-kit/containerised-app-with-assets

A bootstrap plugin that provides the required Tool Kit plugins for a containerised application that's deployed to Amazon Elastic Container Service (ECS,) additionally supporting building and uploading assets to S3.

  - [`@dotcom-tool-kit/containerised-app`](https://github.com/Financial-Times/dotcom-tool-kit/tree/main/plugins/containerised-app)
  - [`@dotcom-tool-kit/upload-assets-to-s3`](https://github.com/Financial-Times/dotcom-tool-kit/tree/main/plugins/upload-assets-to-s3)
  - [`@dotcom-tool-kit/webpack`](https://github.com/Financial-Times/dotcom-tool-kit/tree/main/plugins/webpack)

This bootstrap plugin is also preconfigured to run the `Webpack` and `Node` tasks on the command `run:local`.

## Installation & Usage

With Tool Kit [already set up](https://github.com/financial-times/dotcom-tool-kit#installing-and-using-tool-kit), install this plugin as a dev dependency:

```sh
npm install --save-dev @dotcom-tool-kit/containerised-app-with-assets
```

And add it to your repo's `.toolkitrc.yml`:

```yml
plugins:
  - '@dotcom-tool-kit/containerised-app-with-assets'
```

This plugin is only configured with the options of the plugins it depends on. You'll need to specify plugin options for the `cloudsmith`, `containerised-app`, and `docker` plugins. The bare minimum is:

```yml
options:
  plugins:
    '@dotcom-tool-kit/cloudsmith':
      serviceAccount: <SERVICE_ACCOUNT_WITH_WRITE_ACCESS>
    '@dotcom-tool-kit/containerised-app':
      awsRoleArnStaging: <STAGING_ROLE_ARN>
      awsRoleArnProduction: <PRODUCTION_ROLE_ARN>
    '@dotcom-tool-kit/docker':
      images:
        web:
          name: <YOUR_APP_NAME>
```

See the relevant documentation for further options:

  - [`@dotcom-tool-kit/cloudsmith` plugin options](https://github.com/Financial-Times/dotcom-tool-kit/tree/main/plugins/cloudsmith#plugin-wide-options)
  - [`@dotcom-tool-kit/containerised-app` plugin options](https://github.com/Financial-Times/dotcom-tool-kit/tree/main/plugins/containerised-app#plugin-wide-options)
  - [`@dotcom-tool-kit/docker` plugin options](https://github.com/Financial-Times/dotcom-tool-kit/tree/main/plugins/docker#plugin-wide-options)


<!-- begin autogenerated docs -->
<!-- end autogenerated docs -->
