# @dotcom-tool-kit/parallel

This plugin allows you to run Tool Kit tasks in parallel.

## Installation

Install `@dotcom-tool-kit/parallel` as a `devDependency` in your app:

```sh
npm install --save-dev @dotcom-tool-kit/parallel
```

Add the plugin to your [Tool Kit configuration](https://github.com/financial-times/dotcom-tool-kit/blob/main/readme.md#configuration):

```yaml
plugins:
	- '@dotcom-tool-kit/parallel'
```

## Usage

To run tasks in parallel, pass them in as the `tasks` option to the [`Parallel` task](#parallel).

`Parallel` is intended for running long-running tasks alongside each other, such as running your server with the `Node` task at the same time as bundling your code with the `Webpack` task in watch mode.

If any of the tasks throw an error, `Parallel` will throw an error, and attempt to stop the other running tasks. This ensures that either all of the tasks you expect to be running are actually running, or that Tool Kit has exited and printed an error message.

<!-- begin autogenerated docs -->
## Tasks

### `Parallel`

Run Tool Kit tasks in parallel

#### Task options

`tasks`: an array listing the tasks to run in parallel, and the options to run each task with. Each element in the array is an object with a single key and value; the key is the name of the task to run, and the value is the options object for that task. Other tasks' options are documented in their plugin's readme.

##### Example

~~~yaml
commands:
  run:local:
    - Parallel:
        tasks:
          - Node:
              entry: server/index.js
          - Webpack:
              watch: true
~~~

<!-- hide autogenerated schema docs -->

<!-- end autogenerated docs -->
