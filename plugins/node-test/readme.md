# dotcom-tool-kit/node-test

Run tests via the Node.js [built-in test runner](https://nodejs.org/api/test.html).

## Installation & Usage

With Tool Kit [already set up](https://github.com/financial-times/dotcom-tool-kit#installing-and-using-tool-kit), install this plugin as a dev dependency:

```sh
npm install --save-dev @dotcom-tool-kit/node-test
```

And add it to your repo's `.toolkitrc.yml`:

```yml
plugins:
  - '@dotcom-tool-kit/node-test'
```

<!-- begin autogenerated docs -->
## Tasks

### `NodeTest`

Run tests via the Node.js built-in test runner
#### Task options

| Property        | Description                                                                                                                                                           | Type                                                                                               | Default                                                                                                                                  |
| :-------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------- |
| `concurrency`   | The number of test processes to run in parallel. See https://nodejs.org/docs/latest-v20.x/api/test.html#runoptions                                                    | `number` (_int, >0_) _or_ `boolean`                                                                | `false`                                                                                                                                  |
| `files`         | Glob patterns used to find test files to run                                                                                                                          | `Array<string>`                                                                                    | `["**/*.test.?(c\|m)js","**/*-test.?(c\|m)js","**/*_test.?(c\|m)js","**/test-*.?(c\|m)js","**/test.?(c\|m)js","**/test/**/*.?(c\|m)js"]` |
| `forceExit`     | Whether to force exit the test process if something is holding it open                                                                                                | `boolean`                                                                                          | `false`                                                                                                                                  |
| `ignore`        | Glob patterns for files to ignore when running tests                                                                                                                  | `Array<string>`                                                                                    | `["**/node_modules/**"]`                                                                                                                 |
| `watch`         | Whether to run tests in "watch" mode, automatically rerunning them when related files change                                                                          | `boolean`                                                                                          | `false`                                                                                                                                  |
| `customOptions` | Additional options to pass to the test runner, for those that Tool Kit does not explicitly support. See https://nodejs.org/docs/latest-v20.x/api/test.html#runoptions | _Object with dynamic keys of type_ `string` _and values of type_ `unknown` (_optional & nullable_) |                                                                                                                                          |

_All properties are optional._
<!-- end autogenerated docs -->
